<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ltns.rest_area.domain.user.UserDAO">
	<select id="selectAll">
	select * from usermember;
	</select>
	<select id="selectByString" parameterType="com.ltns.rest_area.domain.user.UserDTO" resultType="com.ltns.rest_area.domain.user.UserDTO">
		select * from usermember where um_username = #{um_username}
	</select>
		<select id="selectByObject" parameterType="com.ltns.rest_area.domain.user.UserDTO" resultType="com.ltns.rest_area.domain.user.UserDTO">
		select * from usermember where um_uid = #{um_uid}
	</select>
	<select id="findByNickname" parameterType="com.ltns.rest_area.domain.user.UserDTO" resultType="com.ltns.rest_area.domain.user.UserDTO">
		select * from usermember where um_nickname = #{um_nickname}
	</select>
	<insert id="insertByObject" parameterType="com.ltns.rest_area.domain.user.UserDTO" flushCache="true" keyColumn="um_uid" keyProperty="um_uid" useGeneratedKeys="true">
		insert into usermember(um_uid,um_username,um_password,um_nickname) values(SEQ_USERMEMBER_UM_UID.nextval,#{um_username},#{um_password},#{um_nickname})
	</insert>
	<update id="updateByObject" parameterType="com.ltns.rest_area.domain.user.UserDTO" flushCache="true">
		update usermember set um_password = #{um_password} where um_username = #{um_username}
	</update>
	<update id="updateByDTO" parameterType="com.ltns.rest_area.domain.user.UserDTO" flushCache="true">
	update usermember set um_nickname = #{um_nickname} where um_username = #{um_username}
	</update>
	<update id="updateAllByUsername">
	update userMemeber set um_nickname = #{um_nickname}, um_password = #{um_password}  where um_username = #{um_username}
	</update>
	<delete id="deleteByObject" parameterType="com.ltns.rest_area.domain.user.UserDTO" flushCache="true">
	delete from usermember where um_username = #{um_username}
	</delete>
</mapper>